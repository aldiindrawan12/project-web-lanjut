{"ast":null,"code":"var _jsxFileName = \"D:\\\\semester 6\\\\WEBLANJUT\\\\project-web-lanjut\\\\client\\\\src\\\\view\\\\upload\\\\gambar.js\";\nimport React, { useState } from 'react';\nimport Dropzone from 'react-dropzone';\nimport { PlusOutlined } from '@ant-design/icons';\nimport Axios from 'axios';\n\nfunction Gambar(props) {\n  const [Images, setImages] = useState([]);\n\n  const onDrop = files => {\n    let formData = new FormData();\n    const config = {\n      header: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    formData.append('file', files[0]);\n    Axios.post('api/porduct/uploadImage', formData, config).then(response => {\n      if (response.data.succes) {\n        setImages([...Images, response.data.Image]);\n        props.rereshFunction([...Images, response.data.Image]);\n      } else {\n        alert(\"gagal upload gambar\");\n      }\n    });\n  };\n\n  const onDelete = image => {\n    const index = Images.indexOf(image);\n    let newImage = [...Images];\n    newImage.slice(index, 1);\n    setImages(newImage);\n    props.rereshFunction(newImage);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Dropzone, {\n    onDrop: onDrop,\n    multiple: false,\n    maxSize: 800000000,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, ({\n    getRootProps,\n    getInputProps\n  }) => /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    style: {\n      width: \"300px\",\n      height: \"240px\",\n      border: \"1px solid\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    }\n  }, getRootProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({}, getInputProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(PlusOutlined, {\n    style: {\n      fontSize: \"3rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      width: \"350px\",\n      height: \"240px\",\n      overflowX: \"scroll\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, Images.map((image, index) => /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => onDelete(image),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      minWidth: \"300px\",\n      width: \"300px\",\n      height: \"240px\"\n    },\n    src: 'http://localhost:3000/${image}',\n    alt: 'productImg-${index}',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 33\n    }\n  }))))));\n}\n\nexport default Gambar;","map":{"version":3,"sources":["D:/semester 6/WEBLANJUT/project-web-lanjut/client/src/view/upload/gambar.js"],"names":["React","useState","Dropzone","PlusOutlined","Axios","Gambar","props","Images","setImages","onDrop","files","formData","FormData","config","header","append","post","then","response","data","succes","Image","rereshFunction","alert","onDelete","image","index","indexOf","newImage","slice","display","justifyContent","getRootProps","getInputProps","width","height","border","alignItems","fontSize","overflowX","map","minWidth"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport Dropzone from 'react-dropzone';\r\nimport {PlusOutlined} from '@ant-design/icons';\r\nimport Axios from 'axios';\r\n\r\nfunction Gambar(props){\r\n    const [Images,setImages] = useState([])\r\n\r\n    const onDrop = (files) =>{\r\n        let formData = new FormData()\r\n        const config = {\r\n            header :{'content-type':'multipart/form-data'}\r\n        }\r\n        formData.append('file',files[0])\r\n        Axios.post('api/porduct/uploadImage',formData,config)\r\n        .then(response => {\r\n            if(response.data.succes){\r\n                setImages([...Images,response.data.Image])\r\n                props.rereshFunction([...Images,response.data.Image])\r\n            }else{\r\n                alert(\"gagal upload gambar\") \r\n            }\r\n        })\r\n    }\r\n    const onDelete = (image)=>{\r\n        const index = Images.indexOf(image)\r\n\r\n        let newImage = [...Images]\r\n        newImage.slice(index,1)\r\n        setImages(newImage)\r\n        props.rereshFunction(newImage)\r\n    }\r\n\r\n    return(\r\n        <div style={{display:\"flex\",justifyContent:\"space-between\"}}>\r\n            <Dropzone\r\n                onDrop={onDrop}\r\n                multiple={false}\r\n                maxSize={800000000}\r\n            >\r\n                {({getRootProps,getInputProps})=>(\r\n                    <div style={{width:\"300px\",height:\"240px\",border:\"1px solid\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}}\r\n                        {...getRootProps()}\r\n                    >\r\n                        <input {...getInputProps()}></input>\r\n                        <PlusOutlined style={{fontSize:\"3rem\"}}/>\r\n                    </div>\r\n                )}\r\n            </Dropzone>\r\n            <div style={{display:\"flex\",width:\"350px\",height:\"240px\",overflowX:\"scroll\"}}>\r\n                    <div onClick>\r\n                        {Images.map((image,index)=>(\r\n                            <div onClick={() => onDelete(image)}>\r\n                                <img style={{minWidth:\"300px\",width:\"300px\",height:\"240px\"}} src={'http://localhost:3000/${image}'} alt={'productImg-${index}'}></img>\r\n                            </div>\r\n                        ))}\r\n                        \r\n                    </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Gambar"]},"metadata":{},"sourceType":"module"}